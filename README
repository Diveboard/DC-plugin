0.1/ Install prerequisites
get Cmake : http://www.cmake.org/cmake/resources/software.html

0.2/ Configure globally Xcode for mac

- For mac, make sure that the build location can be configured on a project basis :
  XCode > Preferences > Locations > Advanced > Build Location = Location Specified By Targets



1/ Build the main plugin :

- in a shell, place yourself in the same folder as this readme
- launch the correct prep... command for your platform with the arguments "projects" and "build" :
	Mac : ./firebreath/prepmac.sh projects build
	Linux : ./firebreath/prepcodeblocks.sh projects build
	Windows : firebreath\prep2010.cmd projects build

- open the project generated in the new "build" directory :
	Mac : FireBreath.xcode
	Linux : FireBreath.cbp
	Windows : FireBreath.sln

Note for Mac build: in case of error with lipo, it might be because of parallel build. To disactivate that feature in xcode, go to "Project/Edit Project settings" and uncheck "Build independant targets in parallel"

WARNING ! On Linux you must build on both a 32-bit platform and a 64-bit platform - you must build really 2 times on 2 platforms, no kidding.

Note for Linux build: it is also possible to build the plugin by running "make" directly in the "build" directory

2/ Build the library libdivecomputer :

- Open the project file
	Mac : libdivecomputer/libdivecomputer.xcodeproj
	Windows : libdivecomputer/libdivecomputer.sdf

- Linux build:
	./configure
	make
WARNING ! On Linux you must build on both a 32-bit platform and a 64-bit platform - you must build really 2 times on 2 platforms, no kidding.

- The built library will be :
	Mac : libdivecomputer/build/Release/liblibdivecomputer.dylib 
	Linux : libdivecomputer/src/.libs/libdivecomputer.so
	Windows : build\bin\DiveBoard\Release


3/ Build the package

- To build the package run
	Windows : compile with NSIS (Nullsoft Installer) projects\diveboard\installer.nsi
	Mac : mkpkg4mac.sh
  Linux 32bit- deb package : mkdeb4ubuntu.sh
  Linux 32bit- tgz package : mktgz4linux.sh
  Linux 64bit- deb package : mkdeb4ubuntu64.sh
  Linux 64bit- tgz package : mktgz4linux64.sh

- The installation package will be placed in
	Mac : build/packages/diveboard.dmg
	Windows : build\bin\DiveBoard\Release\DiveBoard.exe
  Linux : build/packages/



Notes : 

On windows, the easiest way is to register the dll in build/bin/DiveBoard/Debug
	regsvr32 npPluginTemplate.dll





Good luck !

